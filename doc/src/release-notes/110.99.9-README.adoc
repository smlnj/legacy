:version: 110.99.9
:date: November 4, 2025
:dist-dir: https://smlnj.org/dist/working/{version}/
:history: {dist-dir}HISTORY.html
:issue-base: https://github.com/smlnj/legacy/issues/
:pull-base: https://github.com/smlnj/legacy/pull/
:dev-pull-base: https://github.com/smlnj/smlnj/pull
:stem: latexmath
:source-highlighter: pygments
:stylesheet: release-notes.css
:notitle:

= Standard ML of New Jersey Release Notes

[subs=attributes]
++++
<div class="smlnj-banner">
  <span class="title"> Standard ML of New Jersey <br/> Release Notes </span>
  <br/> <br/>
  <span class="subtitle"> Version {version} <br/> {date} </span>
</div>
++++

''''''''
--
SML/NJ HOME::
  https://www.smlnj.org/index.html[[.tt]#https://smlnj.org#]
FILES::
  {dist-dir}index.html[[.tt]#{dist-dir}#]
--
''''''''

== Summary

This release fixes a number of bugs and enables running on *macOS 26*
(Tahoe).

== Details

=== Runtime System

* Ported various fixes from the development repository.

=== SML/NJ Library

* Added a number of operations to the `MONO_HASH_SET` interface to make
  it more compatible with the `ORD_SET` interface.

* Added `LEB128` module, which implements packed encoding and decoding
  of integer and word types using the _Little Endian Base 128_ encoding.

== Bugs

Here is a list of the issues that are fixed (or closed) with this release.
We include the original bug numbers for bugs that were reported using the
gforge bug tracker.

[.buglist,cols="^1,<10,^2",strips="none",options="header"]
|=======
| Issue
| Description
| Gforge Bug
| [.bugid]#356#
| {issue-base}/356[Problem with `Real.fromString` evaluating non-whole number strings on 32-bit systems]
| n.a.
| [.bugid]#360#
| {issue-base}/360[Incorrect values returned by `Real.fromString` on strings with many digits]
| n.a.
| [.bugid]#362#
| {issue-base}/362[`Real.fromString` on negative inf/infinity returns positive infinity]
| n.a.
| [.bugid]#363#
| {issue-base}/363["default word size" in the documentation for Util/Random]
| n.a.
| [.bugid]#366#
| {issue-base}/366[`SockUtil.recvVec` behaviour does not match documentation]
| n.a.
| [.bugid]#367#
| {issue-base}/367[Compile error on Fedora 40 64-bit]
| n.a.
| [.bugid]#370#
| {issue-base}/370[`Int32` operations do not properly raise `Overflow`]
| n.a.
| [.bugid]#372#
| {issue-base}/372[`Int32.toString` can generate an `Overflow` exception]
| n.a.
|=======

// ***** include a list of unnumbered bugs here *****
* Merged fix for the inverse power-of-five table from the development branch
  (see {dev-pull-base}/306[Pull Request #306]).

* Merged fix for the `IntBinarySet` structure from the development branch
  (see https://github.com/smlnj/smlnj/pull/308[Pull Request #308] and
  https://github.com/smlnj/smlnj/issues/310[Issue #310]).

* Merged fix for development repository https://github.com/smlnj/smlnj/issues/319[Issue
  #319 (Nondeterministic import order)].

* Merged fix for development repository {dev-pull-base}/322[Pull Request #322
  (Fix heap export inconsistency caused by pair arena offsets)].

* Merged fix for development repository {dev-pull-base}/323[Pull Request #323
  (Fix memory leaks in the runtime system)].

* Merged fix for development repository {dev-pull-base}/325[Pull Request #325
  (`setPosOut` should return an `outstream`)].


== Supported systems

We believe that SML/NJ will build and run on the following systems, but have only
tested some of them:

[.support-table,cols="^2s,^4v,^3v",options="header",strips="none"]
|=======
| Architecture | Operating System | Status
| AMD64 | FreeBSD 12.0 |
| | macOS 10.14 (Mojave) |
| | macOS 10.15 (Catalina) |
| | macOS 11 (Big Sur) |
| | macOS 12 (Monterey) |
| | macOS 13 (Ventura) |
| | macOS 14 (Sonoma) |
| | macOS 15 (Sequoia) | Tested
| | macOS 26 (Tahoe) | Tested
| | Ubuntu 20.04.6 LTS | Tested
| | Ubuntu 22.04.4 LTS | Tested
| {nbsp} | |
| Power PC | Mac OS X 10.5 (Leopard) |
| | AIX |
| {nbsp} | |
| Sparc | Solaris |
| | Linux |
| {nbsp} | |
| x86 (32-bit) | Mac OS X 10.6 (Snow Leopard) |
| | Mac OS X 10.7 (Lion) |
| | Mac OS X 10.8 (Mountain Lion) |
| | Mac OS X 10.9 (Mavericks) |
| | Mac OS X 10.10 (Yosemite) |
| | Mac OS X 10.11 (El Capitan) |
| | macOS 10.12 (Sierra) |
| | macOS 10.13 (High Sierra) | Tested
| | macOS 10.14 (Mojave) |
| | Other Linux variants |
| | FreeBSD 12.0 |
| | Other BSD variants |
| | Windows 7 |
| | Windows 10 |
| | Windows 11 | Lightly tested
| | Cygwin (32-bit) |
| {nbsp} | |
|=======

The system also works on Apple Silicon using Rosetta2.

=== 32-bit macOS issues

While the {dist-dir}smlnj-x86-{version}.pkg[x86 installer]
for {version} works on **macOs** 10.14 Mojave, building from source
requires some extra steps because the version of **Xcode**
distributed for Mojave does not include a 32-bit SDK.

Another issue that you may encounter
when building on **macOs** 10.14 Mojave is an error message for a shell
script of the form

.....
  /bin/sh: bad interpreter: Operation not permitted
.....

This error arises because the `com.apple.quarantine` attribute is set on the
shell script.  To fix the problem, remove the attribute using the command

[source,shell]
-----
  xattr -d com.apple.quarantine shell-script
-----
and resume the build.
